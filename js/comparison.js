!function(t){function e(e,o,r){if("1"!=e.code)return void console.log("加载失败");var i=Handlebars.compile(t(o).html()),n=i(e);t(r).html(n)}function o(){var e=[];return t("input:radio").each(function(o,r){var i={};i.id=t(this).val(),i.isCheck=t(this).prop("checked")?1:0,e.push(i)}),e}function r(){var e=parseInt(t(".hmb-cart-tips i").html());e++,t(".redBall").animate({top:0},800),t(".redBall").fadeOut("fast",function(){t(".hmb-cart-tips i").html(e)})}var i={},n="",c={},a=t(".comparison-mask"),d=t(".comparison-tip"),s=t(".join-cart"),u=GetQueryString("isComeFrom"),l=GetQueryString("historyCompare"),m=GetQueryString("ids").split("-").join(","),p=GetQueryString("orderitemId"),g=decodeURI(decodeURI(GetQueryString("cataname"))),h=decodeURI(decodeURI(GetQueryString("goodsname"))),f=GetQueryString("programcode"),b=GetQueryString("catalogcode"),j=GetQueryString("unitprice");GetQueryString("programitemid"),GetQueryString("cartnum"),baseUrl;!!m&&(c.ids=m),!!p&&(c.orderitemId=p),!u&&s.remove(),!!u&&e({code:"1",name:g||h},"#breadcrumb-tpl",".breadcrumb"),Handlebars.registerHelper("transformOrderType",function(t){return 1==t?"京东":2==t?"苏宁":void 0}),Handlebars.registerHelper("isShow",function(t){return 0==t&&"checked"}),getdata("../js/json/compare.json",c,"get",function(t){t.isComeFrom=u,i=t,e(t,"#compare-tpl",".comparison-con"),e({code:"1",data:t.orderhisList[0]},"#join-cart-tpl",".join-cart")}),t(".breadcrumb").on("click",".jump",function(){var t={programcode:f,catalogcode:b,cataname:g,goodsname:h,unitprice:j,status:"byPurchaseCatalog"};location.href="./product.html?"+qs(t)}),t(".comparison-con").on("click","input",function(){if(0!=t(this).attr("idx"))return a.show(),void d.show();e({code:"1",data:i.orderhisList[0]},"#join-cart-tpl",".join-cart")}),t(".confirm").on("click",function(){a.hide(),d.hide(),n=t("input:checked").attr("idx"),console.log(n),console.log(i.orderhisList[n]),e({code:"1",data:i.orderhisList[n]},"#join-cart-tpl",".join-cart")}),t(".cancel").on("click",function(){a.hide(),d.hide(),t("input:radio").eq(n).prop("checked","checked")}),t(".join-cart").on("click",".dec-tit,.join-product img",function(e){t(this).attr("gid");window.open("./detail.html")}),t(".join-cart").on("click",".join-btn",function(){o();getdata("../js/json/join-cart.json",{},"get",function(e){if("1"!=e.code)return void layer.msg(e.msg);layer.msg("加入成功"),t(".join-btn").html("加入成功").css({background:"#ccc"}).attr("disabled","disabled"),t("input:radio").attr("disabled","disabled"),t(".redBall").show("fast"),document.documentElement.scrollTop>0&&t(document.documentElement).animate({scrollTop:"0px"},1e3,function(){r()}),window.pageYOffset&&t(window).animate({pageYOffset:"0px"},800,function(){r()}),document.body.scrollTop>=0&&t(document.body).animate({scrollTop:"0px"},800,function(){r()})},!0)})}(jQuery);