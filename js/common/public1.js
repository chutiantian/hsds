function isBrowser(){var e,a={},t=navigator.userAgent.toLowerCase();return(e=t.match(/rv:([\d.]+)\) like gecko/))?a.ie=e[1]:(e=t.match(/msie ([\d.]+)/))?a.ie=e[1]:(e=t.match(/firefox\/([\d.]+)/))?a.firefox=e[1]:(e=t.match(/chrome\/([\d.]+)/))?a.chrome=e[1]:(e=t.match(/opera.([\d.]+)/))?a.opera=e[1]:(e=t.match(/version\/([\d.]+).*safari/))&&(a.safari=e[1]),a}function getdata(e){var a,t,i=e.callback||function(){};$.ajax({type:e.type,url:e.url,dataType:"json",timeout:1e4,data:e.fromdata,async:!0,beforeSend:function(){t=layer.load(1,{shade:[.5,"#000"]})},complete:function(e,a){layer.close(t),"timeout"==a&&layer.msg("请求超时")},success:function(t){a=t,e.pram&&(a=Object.assign(a,e.pram)),filldom(e.template,a,e.dom),e.ispage,$(".left-bar").mCustomScrollbar("update"),i(t)},error:function(){console.log("参数错误")}})}function filldom(e,a,t){var i=Handlebars.compile($("#"+e).html());$("#"+t).html(i(a))}function GetQueryString(e){var a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(a);return null!=t?encodeURI(t[2]):""}function qs(e){var a="";for(var t in e)e[t]&&(a+=t+"="+e[t]+"&");return a.slice(0,-1)}function qss(e){var a="";for(var t in e)e[t]&&(a+=t+"="+e[t]+"@");return a.slice(0,-1)}function orgpageInit(e,a,t,i){t*=1,i*=1;var o=0,n=0;if($(a).empty(),isNaN(t)||0>=t)return!1;if(isNaN(i)&&(i=1),i>t&&(i=t),1==i?($(a).append('<li class="disabled"><a class="colordis" href="javascript:void(0)">首页</a></li>'),$(a).append('<li class="disabled"><a class="colordis" href="javascript:void(0)">上一页</a></li>')):($(a).append('<li><a href="javascript:void(0)" data-page="1">首页</a></li>'),$(a).append('<li><a href="javascript:void(0)" data-page="'+(i-1)+'">上一页</a></li>')),i>1){var r=2;r=t-i>2?r=2:4-(t-i),o=i>r?o=r:i-1;for(var l=0;o>l;l++)$(a).append('<li><a href="javascript:void(0)" data-page="'+(i-o+l)+'">'+(i-o+l)+"</a></li>")}if($(a).append('<li class="active"><a href="javascript:void(0)">'+i+"</a></li>"),t>i){var s=2;s=0>s-i?s=2:5-i,n=t-i>s?n=s:t-i;for(var l=1;n>=l;l++)$(a).append('<li><a href="javascript:void(0)" data-page="'+(i+l)+'">'+(i+l)+"</a></li>")}i==t||1==t?($(a).append('<li class="disabled"><a class="colordis" href="javascript:void(0)">下一页</a></li>'),$(a).append('<li class="disabled"><a class="colordis" href="javascript:void(0)">末页</a></li>')):($(a).append('<li><a href="javascript:void(0)" data-page="'+(i+1)+'">下一页</a></li>'),$(a).append('<li><a href="javascript:void(0)" data-page="'+t+'">末页</a></li>')),$(a).find("a").on("click",function(a){if(a.preventDefault(),$(this).parent("li").hasClass("disabled")||$(this).parent("li").hasClass("active"))return!1;"string"==typeof e?"function"==typeof window[e]&&window[e]($(this).attr("data-page")):"function"==typeof e&&e($(this).attr("data-page"))});var c="";return c+='<div class="paginmsg">',c+="共<span>"+t+"页</span>",1==t?($(a).append(c),!1):(c+='，跳转第<input class="skipnum" type="text" />页',c+='<button class="pageskip">确定</button>',c+="</div>",$(a).append(c),void $(a).find(".pageskip").on("click",function(){var i=$(a).find(".skipnum").val();return/^[1-9]*[1-9][0-9]*$/.test(i)?i>t?(layer.msg("页码超过总页数！"),!1):void("string"==typeof e?"function"==typeof window[e]&&window[e].apply(null,[i]):"function"==typeof e&&e(i)):(layer.msg("页码只能是整数"),!1)}))}$(window).load(function(){$(".left-bar").mCustomScrollbar({set_width:!1,set_height:!1,horizontalScroll:!1,scrollInertia:550,scrollEasing:"easeOutCirc",autoDraggerLength:!0,scrollButtons:{enable:!1,scrollType:"continuous",scrollSpeed:20,scrollAmount:40},advanced:{updateOnBrowserResize:!0,updateOnContentResize:!1,autoExpandHorizontalScroll:!1,autoScrollOnFocus:!0},callbacks:{onScrollStart:function(){$("#catalog-list li ul").hide()},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){},onTotalScrollOffset:0,whileScrolling:!1,whileScrollingInterval:30}}),$(".hmb-search button").click(function(){if(!$.trim($(this).siblings("input").val()))return layer.msg("请填写搜索关键词",{time:2e3}),!1;var e=$(this).siblings("input").val(),a="";if(GetQueryString("goodsSource")){var t=decodeURI(decodeURI(GetQueryString("sourceName")))||"";console.log(t),a+="product.html?goodsName="+e+"&status=byGoodsName&goodsSource="+GetQueryString("goodsSource")+"&sourceName="+t}else a="product.html?goodsName="+e+"&status=byGoodsName";window.location.href=a}),$("#isindex").val()?$(".catalog").css({height:"484px",overflow:"visible"}):$(".classify").hover(function(){$(".catalog").css({height:"484px",overflow:"visible"})},function(){$(".catalog").css({height:"0px",overflow:"hidden"})}),$(".catalog").on("mouseenter mouseleave",function(e){e.preventDefault(),"mouseenter"==e.type?$(".lbf-child-catalog").show():"mouseleave"==e.type&&(e.preventDefault(),$(".lbf-child-catalog").hide(),$(this).find("li").removeClass("hover"))}),$(".catalog").on("mouseenter mouseleave","li.catalog-li",function(e){e.preventDefault(),"mouseenter"==e.type?($(this).addClass("hover").siblings().removeClass("hover"),$(".lbf-child-catalog ul").eq($(this).index()).show().siblings().hide()):e.type})}),$(function(){$(".htc-left button").click(function(){layer.open({type:1,title:"登陆",move:!1,skin:"layui-layer-rim",area:["420px","300px"],content:'<div id="login"><div><span>用户名：</span><input type="text" name="username"></div><div><span>密码：</span><input type="text" name="username"></div><div><button>登录</button></div><p>首次登录，请使用默认密码</p></div>'})}),$("img").lazyload({effect:"fadeIn"}),getdata({url:baseUrl+"purchasecatalog/getPurchasecatalog",template:"catalogs-template",dom:"catalogs",type:"GET"})}),Handlebars.registerHelper("eq",function(e,a,t){return e==a?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("transformTime",function(e){if(e)return new Date(e).toJSON().split(".")[0].replace(/[TZ]/g," ")}),Handlebars.registerHelper("transformOrderType",function(e){return 1==e?"京 东":2==e?"苏 宁":void 0}),Handlebars.registerHelper("handindex",function(e,a){return parseInt(e)});